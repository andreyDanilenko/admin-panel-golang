<div class="PostsPage">
  <div class="PostsPage__Header">
    <h1 class="PostsPage__Title">Статьи</h1>
    <button [routerLink]="['/posts/create']" class="btn-primary btn-size-compact">Добавить статью</button>
  </div>

  <div *ngIf="isLoading" class="PostsPage__Loading">
    <span class="PostsPage__Spinner"></span>
    Загружаем статьи...
  </div>

  <div *ngIf="error" class="PostsPage__Error">
    {{ error }}
    <button class="btn-primary btn-size-compact" (click)="loadArticles()">Попробовать снова</button>
  </div>

  <div *ngIf="!isLoading && !error" class="PostsPage__Content">
    <div class="PostsPage__ArticlesList">
      <div
        *ngFor="let article of articles"
        class="PostsPage__ArticleCard"
        [routerLink]="['/posts', article.id]"
        (click)="viewArticle(article.id)">
        <div class="PostsPage__ArticleHeader">
          <h2 class="PostsPage__ArticleTitle">{{ article.title }}</h2>
          <span class="PostsPage__ArticleCategory">{{ article.category }}</span>
        </div>

        <div class="PostsPage__ArticleMeta">
          <span class="PostsPage__ArticleAuthor">
            Автор: {{ article.authorName || 'Неизвестен' }}
          </span>
          <span class="PostsPage__MetaSeparator">•</span>
          <span class="PostsPage__ArticleDate">
            {{ formatDate(article.createdAt) }}
          </span>
        </div>

        <p class="PostsPage__ArticlePreview">
          {{ article.content | truncate:150 }}
        </p>

        <div class="PostsPage__ReadMoreLink">Читать далее</div>
      </div>
    </div>

    <div *ngIf="articles.length === 0" class="PostsPage__EmptyState">
      Статьи не найдены
    </div>
  </div>
</div>
