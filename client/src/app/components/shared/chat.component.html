<div class="chat-container">
  <div class="connection-status" [class.connected]="isConnected" [class.disconnected]="!isConnected">
    {{ isConnected ? 'Connected' : 'Disconnected' }}
  </div>

  <div class="messages-container">
    <div *ngFor="let msg of messages" class="message" [class.sent]="msg.sender_id === currentUserId">
      <div class="message-header">
        <span class="sender">{{ msg.sender?.username || 'Unknown' }}</span>
        <span class="time">{{ msg.sent_at | date:'shortTime' }}</span>
      </div>
      <div class="message-text">{{ msg.text }}</div>
    </div>
  </div>

  <div class="message-input">
    <input
      [(ngModel)]="newMessage"
      placeholder="Type your message..."
      (keyup.enter)="sendMessage()"
      [disabled]="!isConnected"
    >
    <button (click)="sendMessage()" [disabled]="!newMessage.trim() || !isConnected">Send</button>
  </div>
</div>
