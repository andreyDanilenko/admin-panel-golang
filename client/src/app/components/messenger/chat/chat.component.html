<div class="chat-container" #messagesContainer>
  <div class="chat-messages">
    <ng-container *ngFor="let message of messages">
      <div *ngIf="message.senderId !== currentUserId" class="message-group received">
        <div class="message-sender">{{ message.sender?.username || message.sender?.firstName || message.sender.email }}</div>
        <div class="message received">
          <div class="message-content">{{ message.text }}</div>
          <div class="message-time">{{ message.sentAt | date:'HH:mm' }}</div>
        </div>
      </div>

      <div *ngIf="message.senderId === currentUserId" class="message-group sent">
        <div class="message-sender">Вы</div>
        <div class="message sent">
          <div class="message-content">{{ message.text }}</div>
          <div class="message-time">{{ message.sentAt | date:'HH:mm' }}</div>
          <div class="message-status read"></div>
        </div>
      </div>
    </ng-container>
  </div>

   <!-- [control]="newMessage"
      type="text"
      placeholder="Сообщение"
      size="lg"
      class="message-input__text"
      (keydown.enter)="sendMessage()"
    ></app-input>

    <app-button
      type="primary"
      size="48"
      [disabled]="!newMessage.value?.trim() || !isConnected"
      (click)="sendMessage()" -->

  <div class="chat-input-container">
    <div class="chat-input-wrapper">
      <button class="chat-action-btn">
        <span>📎</span>
      </button>
      <button class="chat-action-btn">
        <span>😊</span>
      </button>
      <input type="text" class="chat-input" placeholder="Напишите сообщение..."  [formControl]="newMessage"  (keydown.enter)="sendMessage()"/>
      <div class="chat-actions">
        <button class="chat-action-btn">
          <span>🎤</span>
        </button>
        <button class="chat-action-btn primary" [disabled]="!newMessage.value?.trim() || !isConnected"  (click)="sendMessage()">
          <span>➤</span>
        </button>
      </div>
    </div>
  </div>
</div>

